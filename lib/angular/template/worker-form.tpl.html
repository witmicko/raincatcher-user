<md-toolbar class="content-toolbar">
  <div class="md-toolbar-tools">
    <h3>
      Worker : {{ctrl.model.name}}
    </h3>

    <span flex></span>
    <md-button class="md-icon-button" aria-label="Close" ng-click="ctrl.selectWorker($event, ctrl.model)">
      <md-icon md-font-set="material-icons">close</md-icon>
    </md-button>
  </div>
</md-toolbar>
<md-button class="md-fab" aria-label="New Workorder" ui-sref="app.worker.new">
  <md-icon md-font-set="material-icons">add</md-icon>
</md-button>

<div class="wfm-maincol-scroll">

<form name="workerForm" ng-submit="ctrl.done(workerForm.$valid)" novalidate layout-padding layout-margin>

  <md-input-container class="md-block">
    <label for="workername">Worker Name</label>
    <input type="text" id="workername" name="workername" ng-model="ctrl.model.name" required>
    <div ng-messages="workerForm.workername.$error" ng-if="ctrl.submitted || workerForm.workername.$dirty">
      <div ng-message="required">A name is required.</div>
    </div>
  </md-input-container>

  <md-input-container class="md-block">
    <label for="workername">Username</label>
    <input type="text" id="username" name="username" ng-model="ctrl.model.username" required>
    <div ng-messages="workerForm.username.$error" ng-if="ctrl.submitted || workerForm.username.$dirty">
      <div ng-message="required">A username is required.</div>
    </div>
  </md-input-container>

  <md-input-container class="md-block">
    <label for="password">Password</label>
    <input type="password" id="password" name="password" ng-model="ctrl.model.password" autocomplete="off">
    <div ng-messages="workerForm.password.$error" ng-if="ctrl.submitted || workerForm.password.$dirty">
    </div>
  </md-input-container>

  <md-input-container class="md-block">
    <label for="workername">Banner URL</label>
    <input type="url" id="banner" name="banner" ng-model="ctrl.model.banner">
    <div ng-messages="workerForm.banner.$error" ng-if="ctrl.submitted || workerForm.banner.$dirty">
      <div ng-message="url">Invalid URL.</div>
    </div>

  </md-input-container>

  <md-input-container class="md-block">
    <label for="workername">Avatar URL</label>
    <input type="url" id="avatar" name="avatar" ng-model="ctrl.model.avatar">
    <div ng-messages="workerForm.avatar.$error" ng-if="ctrl.submitted || workerForm.avatar.$dirty">
       <div ng-message="url">Invalid URL.</div>
    </div>
  </md-input-container>

  <md-input-container class="md-block">
    <label for="workername">Phone number</label>
    <input type="number" id="phonenumber" name="phonenumber" ng-model="ctrl.model.phone" pattern="([0-9]{7,15})" required>
    <div ng-messages="workerForm.phonenumber.$error" ng-if="ctrl.submitted || workerForm.phonenumber.$dirty">
      <div ng-message="required">A phone number is required.</div>
      <div ng-message="pattern">A phone number can't be less than 7 or more than 15 digits.</div>
    </div>
  </md-input-container>

  <md-input-container class="md-block">
    <label for="workername">Email</label>
    <input type="email" id="email" name="email" ng-model="ctrl.model.email" required>
    <div ng-messages="workerForm.email.$error" ng-if="ctrl.submitted || workerForm.email.$dirty">
      <div ng-message="required">An email is required.</div>
      <div ng-message="email">Invalid email.</div>
    </div>
  </md-input-container>

  <md-input-container class="md-block">
    <label for="workername">Position</label>
    <input type="text" id="position" name="position" ng-model="ctrl.model.position" required>
    <div ng-messages="workerForm.position.$error" ng-if="ctrl.submitted || workerForm.position.$dirty">
      <div ng-message="required">An position is required.</div>
    </div>
  </md-input-container>

  <md-input-container class="md-block">
    <label for="assignee">Group</label>
    <md-select ng-model="ctrl.model.group" name="group" id="group" required>
       <md-option ng-repeat="group in ctrl.groups" value="{{group.id}}">{{group.name}}</md-option>
     </md-select>
     <div ng-messages="workerForm.group.$error" ng-if="ctrl.submitted || workerForm.group.$dirty">
       <div ng-message="required">An group is required.</div>
     </div>
  </md-input-container>

  <md-button type="submit" class="md-raised md-primary">{{ctrl.model.id || ctrl.model.id === 0 ? 'Update' : 'Create'}} Worker</md-button>
</form>
</div>
